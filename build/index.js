(()=>{"use strict";const e=window.wp.blocks,t=window.React,n=(window.wp.i18n,window.wp.blockEditor),l=window.wp.components,a=window.wp.primitives,r=(0,t.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(a.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),s=(0,t.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(a.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));window.wp.data;const i=e=>{const{className:n,hasSubmenu:l,...a}=e,r=`menu-link-style no-underline px-4 py-2 mx-1 relative after:transition after:absolute after:w-full after:right-1/2 after:translate-x-[0%] after:hover:h-[2px] after:top-[100%] after:left-0 after:h-[2px] ${n}`;return(0,t.createElement)("a",{className:r,...a},e.children,l&&(0,t.createElement)("span",{className:"menu-arrow"},"▼"))},c=JSON.parse('{"UU":"twinsilver/menu-block"}');(0,e.registerBlockType)(c.UU,{edit:function({attributes:e,setAttributes:a}){const{links:i,linkColor:c}=e;i||a({links:[]});const o=(e,t,n,l)=>{const r=i.map(((a,r)=>{if(r===t){if("number"==typeof l){const t=a.subLinks.map(((t,a)=>a===l?{...t,[n]:e}:t));return{...a,subLinks:t}}return{...a,[n]:e}}return a}));a({links:r})},m=(e,t)=>{const n=[...i];if("right"===t){if(e<n.length-1){let t=n[e];n[e]=n[e+1],n[e+1]=t}}else if("left"===t&&e>0){let t=n[e];n[e]=n[e-1],n[e-1]=t}a({links:n})};return(0,t.createElement)("div",{...(0,n.useBlockProps)()},(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:"Menu Settings",initialOpen:!0},(0,t.createElement)(l.PanelRow,null,(0,t.createElement)(l.ColorPicker,{label:"Link Color",color:c,onChange:e=>{a({linkColor:e})}}))),(0,t.createElement)(l.PanelBody,{title:"Manage Links",initialOpen:!0},i.map(((e,c)=>(0,t.createElement)("div",{key:c},(0,t.createElement)(l.TextControl,{label:`Link ${c+1} Text`,value:e.text,onChange:e=>o(e,c,"text")}),(0,t.createElement)(n.URLInputButton,{url:e.url,onChange:e=>o(e,c,"url")}),(0,t.createElement)(l.Button,{onClick:()=>(e=>{const t=i.filter(((t,n)=>n!==e));a({links:t})})(c),isDestructive:!0},"Remove Link"),(0,t.createElement)(l.Button,{onClick:()=>m(c,"left"),icon:r,label:"Shift Left"}),(0,t.createElement)(l.Button,{onClick:()=>m(c,"right"),icon:s,label:"Shift Right"}),(0,t.createElement)(l.Button,{onClick:()=>(e=>{const t=i.map(((t,n)=>{if(n===e){const e=[...t.subLinks,{text:"New Sub Link",url:""}];return{...t,subLinks:e}}return t}));a({links:t})})(c)},"Add Sub Link"),e.subLinks.map(((e,r)=>(0,t.createElement)("div",{key:r,style:{marginLeft:"20px"}},(0,t.createElement)(l.TextControl,{label:`Sub Link ${r+1} Text`,value:e.text,onChange:e=>o(e,c,"text",r)}),(0,t.createElement)(n.URLInputButton,{url:e.url,onChange:e=>o(e,c,"url",r)}),(0,t.createElement)(l.Button,{onClick:()=>((e,t)=>{const n=i.map(((n,l)=>{if(l===e){const e=n.subLinks.filter(((e,n)=>n!==t));return{...n,subLinks:e}}return n}));a({links:n})})(c,r),isDestructive:!0},"Remove Sub Link"))))))),(0,t.createElement)(l.Button,{onClick:()=>{const e=[...i,{text:"New Link",url:"",subLinks:[]}];a({links:e})},variant:"primary"},"Add Link"))),(0,t.createElement)("div",{className:"flex"},0===i.length&&(0,t.createElement)(l.Placeholder,{label:"Placeholder"},"Test"),i.map(((e,l)=>(0,t.createElement)("div",{key:l,className:"link-item px-4 py-2 mx-1 relative"},(0,t.createElement)(n.RichText,{tagName:"div",value:e.text,onChange:e=>o(e,l,"text"),placeholder:"Link text"}),e.subLinks.map(((e,a)=>(0,t.createElement)("div",{key:a},(0,t.createElement)(n.RichText,{tagName:"p",value:e.text,onChange:e=>o(e,l,"text",a)})))))))))},save:function({attributes:e}){const{links:l,linkColor:a}=e;return(0,t.createElement)("div",{...n.useBlockProps.save()},(0,t.createElement)("div",{className:"hidden lg:flex"},l.map(((e,n)=>(0,t.createElement)("div",{key:n,className:"menu-item relative group"},(0,t.createElement)(i,{className:"menu-link "+(e.subLinks.length>0?"has-submenu":""),href:e.url,style:{"--hover-after-bg-color":`${a}`}},e.text),e.subLinks.length>0&&(0,t.createElement)("ul",{className:"hidden lg:group-hover:block absolute bg-white shadow-md"},e.subLinks.map(((e,n)=>(0,t.createElement)("li",{key:n,className:"submenu-item"},(0,t.createElement)(i,{className:"submenu-link",href:e.url},e.text))))))))),(0,t.createElement)("button",{className:"hamburger-button lg:hidden px-4 py-2"},"☰ "),(0,t.createElement)("div",{className:"menu-sidebar fixed bg-white top-0 w-52 flex flex-col"},(0,t.createElement)("div",{className:"w-full flex justify-between",style:{justifyContent:"space-between"}},(0,t.createElement)("p",{className:"px-4 py-6"},"DeCicco Woodshop"),(0,t.createElement)("button",{className:"sidebar-close-button cursor-pointer px-4 py-2"},"☰ ")),l.map(((e,n)=>(0,t.createElement)("div",{key:n,className:"menu-item my-4 py-2 px-4"},(0,t.createElement)(i,{className:"menu-link",href:e.url,style:{"--hover-after-bg-color":`${a}`}},e.text),e.subLinks.length>0&&(0,t.createElement)("ul",{className:""},e.subLinks.map(((e,n)=>(0,t.createElement)("li",{key:n,className:"submenu-item"},(0,t.createElement)("a",{className:"submenu-link",href:e.url},e.text))))))))))}})})();